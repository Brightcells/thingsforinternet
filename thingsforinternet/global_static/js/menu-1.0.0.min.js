var Menu=function(d,b){if(!b){b={}}b={degrees:b.degrees||90,offset:b.degrees||-90,radius:b.radius||150};this.node=d;this.menu_items=d.querySelectorAll("li");this.button=d.querySelector("a");this.state="closed";this.animations=[];var c=document.styleSheets[0];var g=b.degrees;var a=b.radius;var f=b.offset;var e=this;this.eachItem(function(s,m,o){var i=((g/(o.length-1))*m)+f,l=Menu.degreeToPosition(i),q=Math.round((l.x*a)),p=Math.round((l.y*a)),h="ani-"+m,j=m*6;var r=[[0,"{-webkit-transform: translate3d(0px, 0px, 0px); -webkit-transition-timing-function: ease-out; }"],[(j+15),"{ -webkit-transform: translate3d(0px, 0px, 0px);}"],[(45+m*3),"{ -webkit-transform: translate3d("+(q*1.2)+"px, "+(p*1.2)+"px, 0px); -webkit-transition-timing-function: ease-in; }"],[65,"{ -webkit-transform: translate3d("+(q*0.95)+"px, "+(p*0.95)+"px, 0px); -webkit-transition-timing-function:ease-in-out}"],[100,"{ -webkit-transform: translate3d("+q+"px, "+p+"px, 0px);}"]];var k="",n="";r.forEach(function(t){k+=t[0]+"% "+t[1];n=(100-t[0])+"% "+t[1]+n},this);k="@-webkit-keyframes "+h+"-open { "+k+"} ";n="@-webkit-keyframes "+h+"-close { "+n+"}";c.insertRule(k);c.insertRule(n);s.querySelector("a").style.webkitTransition="-webkit-transform 500ms ease-in-out";this.animations.push([s,h+"-open",h+"-close"])});this.button.style.webkitTransition="-webkit-transform 100ms linear";if(this.button.ontouchstart!==undefined){this.button.addEventListener("touchstart",function(h){h.stopPropagation();h.preventDefault();e.toggle()});this.button.addEventListener("touchmove",function(h){h.stopPropagation();h.preventDefault()});this.button.addEventListener("touchend",function(h){h.stopPropagation();h.preventDefault()})}else{this.button.addEventListener("mousedown",function(){e.toggle()})}this.button.addEventListener("click",function(h){h.preventDefault()})};Menu.prototype.toggle=function(){if(this.isOpen()){this.close()}else{this.open()}};Menu.prototype.close=function(){if(this.isClosed()){return}this.state="closed";this.button.style.webkitTransform="rotate(0deg)";this.eachAnimation(function(d){var c=d[0];var a=d[2];var b=c.querySelector("a");c.style.webkitAnimation=a+" 700ms";c.style.webkitAnimationFillMode="both";b.style.webkitTransform="rotate(360deg)"})};Menu.prototype.open=function(){if(this.isOpen()){return}this.state="open";this.button.style.webkitTransform="rotate(-45deg)";this.eachAnimation(function(d){var c=d[0],a=d[1],b=c.querySelector("a");c.style.webkitAnimation=a+" 800ms";c.style.webkitAnimationFillMode="both";b.style.webkitTransform="rotate(-360deg)"})};Menu.prototype.isOpen=function(){return this.state=="open"};Menu.prototype.isClosed=function(){return !this.isOpen()};Menu.prototype.eachItem=function(a){Array.prototype.forEach.call(this.menu_items,a,this)};Menu.prototype.eachAnimation=function(a){this.animations.forEach(a,this)};Menu.degreeToRadian=function(b){b=b==0?360:b;var a=(Math.PI/180)*b;return a};Menu.radianToPosition=function(a){return{x:Math.cos(a),y:Math.sin(a)}};Menu.degreeToPosition=function(a){return Menu.radianToPosition(Menu.degreeToRadian(a))};